#!/bin/bash

## Publish Script.
# profile using jekyll serve .. once done, run it,
# author: abarrak (github.com/abarrak)

printf "\n..... [1/2] Updating Source Files .....\n"
printf ".......................................\n\n"
git add .
git commit -m "Source Auto Update at: `date`"
git push origin src
git co -- .

printf "\n..... [2/2] Updating Site Files .....\n"
printf ".....................................\n\n"
gulp
export JEKYLL_ENV=production
jekyll build
git clean -fd
cd ../abarrak.github.io
git add .
git commit -m "Auto Update at: `date`"
git push origin master

printf "\n..... Done ! .....\n..................\n"
